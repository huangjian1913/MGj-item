"use strict";!function(o){var e=o(".registry_wrap .registry_box form"),s=o(".username"),l=o(".password"),r=o(".repass"),t=o(".email"),c=o(".registry_box form p span"),n=!0,a=!0,h=!0,i=!0;s.on("focus",function(){c.eq(0).html("设置后不可更改，中英文均可，最长14个英文或7个汉字").css({color:"black"})}),s.on("blur",function(){""!==o(this).val()?o(this).val().replace(/[\u4e00-\u9fa5]/g,"aa").length<14?o.ajax({type:"post",url:"http://10.31.162.38/Mogujie/php/registry.php",data:{username:s.val()}}).done(function(e){n=e?(c.eq(0).html("该用户名已经存在").css("color","red"),!1):(c.eq(0).html("该用户名可用").css("color","green"),!0)}):(c.eq(0).html("该用户名长度有问题").css({color:"red"}),n=!1):(c.eq(0).html("该用户名不能为空").css({color:"red"}),n=!1)}),l.on("focus",function(){c.eq(1).html("长度为8~14个字符,至少包含2种字符").css({color:"black"})}),l.on("input",function(){var e=o(this).val();if(8<=e.length&&e.length<=14){var s=0;switch(/\d+/.test(e)&&s++,/[A-Z]+/.test(e)&&s++,/[a-z]+/.test(e)&&s++,/[\W\_]+/.test(e)&&s++,s){case 1:c.eq(1).html("密码强度弱").css({color:"red"}),a=!1;break;case 2:case 3:c.eq(1).html("密码强度中").css({color:"yellow"}),a=!0;break;case 4:c.eq(1).html("密码强度强").css({color:"green"}),a=!0}}else c.eq(1).html("密码长度错误").css({color:"red"}),a=!1}),l.on("blur",function(){""!==o(this).val()?a&&(c.eq(1).html("密码有效").css({color:"green"}),a=!0):(c.eq(1).html("密码不能为空").css({color:"red"}),a=!1)}),r.on("blur",function(){h=""===o(this).val()?(c.eq(2).html("密码验证不能为空").css("color","red"),!1):o(this).val()!==l.val()?(c.eq(2).html("密码验证不一致").css("color","red"),!1):(c.eq(2).html("密码一致").css("color","green"),!0)}),t.on("blur",function(){var e=o(this).val();i=""===e?(c.eq(3).html("邮箱不能为空").css("color","red"),!1):/^(\w+[\+\-\.]*\w+)\@(\w+[\-\.]*\w+)\.(\w+[\-\.]*\w+)$/.test(e)?(c.eq(3).html("该邮箱有效").css("color","green"),!0):(c.eq(3).html("该邮箱有误").css("color","red"),!1)}),e.on("submit",function(){if(""===s.val()&&(c.eq(0).html("该用户名不能为空").css({color:"red"}),n=!1),""===l.val()&&(c.eq(1).html("密码不能为空").css({color:"red"}),a=!1),""===r.val()&&(c.eq(2).html("密码验证不能为空").css({color:"red"}),h=!1),""===t.val()&&(c.eq(3).html("邮箱不能为空").css({color:"red"}),i=!1),!(n&&a&&h&&i))return!1})}(jQuery);